import{d as k,T as x,c as w,w as f,o as d,a as o,j as m,v as b,u as t,e as n,t as i,f as u,b as y,i as h}from"./app-DoPaJPuH.js";import{_ as v}from"./AppLayout-DgNSrLQi.js";import{s as P}from"./vue-multiselect.esm-CnuB1ff5.js";import{S as p}from"./sweetalert2.esm.all-D3pEHXw3.js";const B=["href"],V={class:"mb-5"},_={key:0,class:"text-red-600 text-xs"},S={class:"mb-5"},U={key:0,class:"text-red-600 text-xs"},K={class:"mb-5"},j={key:0,class:"text-red-600 text-xs"},D={class:"mb-5"},M={key:0,class:"text-red-600 text-xs"},C={class:"mb-5"},N={key:0,class:"text-red-600 text-xs"},$={__name:"Update",props:{errors:Object,user:Object,roles:Object},setup(g){const a=g;k(["kerani","admin","Pegawai Perlulusan","Pegawai Penyemakan"]);const r=x({name:a.user.name,email:a.user.email,role:a.user.role,password:null,confirm_password:null,selected_role:a.roles.find(l=>l.name===a.user.role)}),c=()=>{r.role=r.selected_role.name,p.fire({title:"Adakah anda ingin menyimpan perubahan?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Simpan",denyButtonText:"Jangan simpan"}).then(l=>{l.isConfirmed?(r.put(route("setting.user.update",a.user.id),{errorBag:"updateUser",preserveScroll:!0}),p.fire("Disimpan!","","success")):l.isDenied&&p.fire("Perubahan tidak disimpan","","info")})};return(l,e)=>(d(),w(v,{title:"Kemaskini Pengguna"},{header:f(()=>[e[6]||(e[6]=o("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Kemaskini Pengguna ",-1)),e[7]||(e[7]=o("br",null,null,-1)),o("a",{href:l.route("setting.user.index")},e[5]||(e[5]=[o("button",{type:"button",id:"createProductModalButton","data-modal-target":"createProductModal","data-modal-toggle":"createProductModal",class:"flex items-center justify-center text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-purple-600 dark:hover:bg-purple-700 focus:outline-none dark:focus:ring-purple-800"}," Kembali ",-1)]),8,B)]),default:f(()=>[o("form",{onSubmit:h(c,["prevent"]),class:"max-w-sm mx-auto"},[o("div",V,[e[8]||(e[8]=o("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Nama Penuh",-1)),m(o("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>t(r).name=s),type:"text",id:"name",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light",placeholder:""},null,512),[[b,t(r).name]]),t(r).errors.name?(d(),n("div",_,i(t(r).errors.name),1)):u("",!0)]),o("div",S,[e[9]||(e[9]=o("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email",-1)),m(o("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>t(r).email=s),type:"email",id:"email",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light",placeholder:"name@flowbite.com"},null,512),[[b,t(r).email]]),t(r).errors.email?(d(),n("div",U,i(t(r).errors.email),1)):u("",!0)]),o("div",K,[e[10]||(e[10]=o("label",{for:"role",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Peranan",-1)),y(t(P),{options:g.roles,modelValue:t(r).selected_role,"onUpdate:modelValue":e[2]||(e[2]=s=>t(r).selected_role=s),label:"name","track-by":"id",placeholder:"Sila Pilih","custom-label":s=>`${s.name}`},null,8,["options","modelValue","custom-label"]),t(r).errors.role?(d(),n("div",j,i(t(r).errors.role),1)):u("",!0)]),o("div",D,[e[11]||(e[11]=o("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Kata Laluan",-1)),m(o("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>t(r).password=s),type:"password",id:"password",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[b,t(r).password]]),t(r).errors.password?(d(),n("div",M,i(t(r).errors.password),1)):u("",!0)]),o("div",C,[e[12]||(e[12]=o("label",{for:"confirm-password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Ulang Kata Laluan",-1)),m(o("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>t(r).confirm_password=s),type:"password",id:"confirm-password",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[b,t(r).confirm_password]]),t(r).errors.confirm_password?(d(),n("div",N,i(t(r).errors.confirm_password),1)):u("",!0)]),e[13]||(e[13]=o("button",{type:"submit",class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-600 dark:hover:bg-blue-700 dark:focus:ring-purple-800"},"Kemaskini",-1))],32)]),_:1}))}};export{$ as default};
