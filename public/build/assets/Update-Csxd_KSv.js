import{d as H,T as R,l as y,k as Z,q as z,c as F,w as J,o as i,a as e,g as b,e as l,f as d,i as Y,n as $,j as c,v as h,u as o,t as p,h as G,F as I,x as Q}from"./app-DoPaJPuH.js";import{_ as W}from"./AppLayout-DgNSrLQi.js";import"./vue-multiselect.esm-CnuB1ff5.js";import{S as k}from"./sweetalert2.esm.all-D3pEHXw3.js";const X={class:"flex","aria-label":"Breadcrumb"},ee={class:"inline-flex items-center space-x-1 md:space-x-3"},ae={class:"inline-flex items-center"},te=["href"],ne={class:"flex items-center"},re=["href"],se={class:"py-12"},ue={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ie={class:"bg-white overflow-hidden sm:rounded-lg shadow-lg"},le={class:"flex justify-between items-center px-6 py-4 bg-gray-100 border-b"},oe={class:"relative"},de={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10"},ge=["href"],me=["href"],pe=["href"],ke=["href"],be=["href"],ce=["href"],he=["href"],xe={key:0,class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4"},fe={key:1,class:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4"},ye={class:"flex gap-4 mb-5"},we={class:"flex-1"},ve={key:0,class:"text-red-600 text-xs"},_e={class:"flex-1"},Pe={key:0,class:"text-red-600 text-xs"},Be={class:"mb-5"},je={key:0,class:"text-red-600 text-xs"},Se={class:"mb-5"},Ke={key:0,class:"text-red-600 text-xs"},Ce={class:"mb-5"},Te={key:0,class:"text-red-600 text-xs"},Le={class:"mb-5"},Ue=["value","id"],Ae=["for"],Ve={key:0,class:"text-red-500 text-sm"},De={class:"flex items-center"},He=["disabled"],qe={__name:"Update",props:{errors:Object,applicant:Object,jenis_pengalaman_pengurus:Array,butiranPengurus:Object,auth:Object},setup(n){var P,B,j,S,K,C,T;const r=n;H(["kerani","admin","Pegawai Perlulusan","Pegawai Penyemakan"]);const s=R({applicant_id:r.applicant.id,nama_pengurus:(P=r.butiranPengurus)==null?void 0:P.nama_pengurus,kad_pengenalan_pengurus:(B=r.butiranPengurus)==null?void 0:B.kad_pengenalan_pengurus,umur_pengurus:(j=r.butiranPengurus)==null?void 0:j.umur_pengurus,kelulusan_akademik_pengurus:(S=r.butiranPengurus)==null?void 0:S.kelulusan_akademik_pengurus,jawatan_hakiki_pengurus:(K=r.butiranPengurus)==null?void 0:K.jawatan_hakiki_pengurus,jenis_pengalaman_pengurus:((T=(C=r.butiranPengurus)==null?void 0:C.pengalaman_pengurus)==null?void 0:T.map(t=>t.id))??[]}),N=()=>{k.fire({title:"Adakah anda ingin menyimpan perubahan?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Simpan",denyButtonText:"Jangan simpan"}).then(t=>{t.isConfirmed?(s.put(route("butiranpengurus.update",r.butiranPengurus.id),{errorBag:"updatePengurus",preserveScroll:!0}),k.fire("Disimpan!","","success")):t.isDenied&&k.fire("Perubahan tidak disimpan","","info")})},f=H(!1),M=()=>{f.value=!f.value},x=y(()=>{var t,a,g;return((g=(a=(t=r.auth)==null?void 0:t.user)==null?void 0:a.role)==null?void 0:g.toLowerCase())==="kerani"&&r.applicant.status==="Perbaharui Lesen"}),m=y(()=>r.applicant.status==="Dalam Semakan"||r.applicant.status==="Dalam Proses Semakan"),w=y(()=>{var t,a,g;return((g=(a=(t=r.auth)==null?void 0:t.user)==null?void 0:a.role)==null?void 0:g.toLowerCase())==="kerani"&&r.applicant.status==="Borang Tidak Lengkap"}),O=()=>{k.fire({title:"Sahkan Selesai Perbaharui Lesen?",html:"Adakah anda sudah mengemaskini semua maklumat? <br><b>Jika belum, sila gunakan 'Pilih Halaman' untuk kemaskini.</b><br><br><span class='text-red-600'>Jika anda keluar dari halaman tanpa klik 'Kemaskini', perubahan tidak akan disimpan.</span>",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Selesai & Hantar",cancelButtonText:"Batal"}).then(t=>{t.isConfirmed&&s.put(route("butiranpengurus.update",r.butiranPengurus.id),{preserveScroll:!0,onSuccess:()=>{axios.post(route("renew.complete",r.applicant.id)).then(()=>{k.fire("Berjaya!","Permohonan telah dihantar untuk semakan.","success").then(()=>window.location.href=route("applicant.index"))})}})})},q=()=>{k.fire({title:"Sahkan Simpan Kemaskini?",html:"Adakah anda sudah mengemaskini semua maklumat? <br><b>Jika belum, sila gunakan 'Pilih Halaman' untuk kemaskini.</b><br><br><span class='text-red-600'>Jika anda keluar dari halaman tanpa klik 'Kemaskini', perubahan tidak akan disimpan.</span>",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Simpan & Hantar",cancelButtonText:"Batal"}).then(t=>{t.isConfirmed&&s.put(route("butiranpengurus.update",r.butiranPengurus.id),{preserveScroll:!0,onSuccess:()=>{k.fire("Berjaya!","Permohonan telah dihantar untuk semakan.","success").then(()=>window.location.href=route("applicant.index"))}})})};let v=!1;Z(s,()=>{x.value&&(v=!0)},{deep:!0});const _=t=>{if(x.value&&v)return t.preventDefault(),t.returnValue="",""};return typeof window<"u"&&(window.addEventListener("beforeunload",_),z(()=>window.removeEventListener("beforeunload",_))),(t,a)=>(i(),F(W,{title:"Kemaskini Pemohonan "},{header:J(()=>[a[9]||(a[9]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Kemaskini Pemohonan ",-1)),a[10]||(a[10]=e("br",null,null,-1)),e("nav",X,[e("ol",ee,[e("li",ae,[e("a",{href:t.route("dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},a[6]||(a[6]=[e("svg",{class:"w-3 h-3 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})],-1),b(" Home ")]),8,te)]),e("li",null,[e("div",ne,[a[7]||(a[7]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})],-1)),e("a",{href:t.route("applicant.index"),class:"ml-1 text-sm font-medium text-gray-700 hover:text-gray-900 md:ml-2 dark:text-gray-400 dark:hover:text-white"},"Senarai Pemohon",8,re)])]),a[8]||(a[8]=e("li",{"aria-current":"page"},[e("div",{class:"flex items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})]),e("span",{class:"ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400"},"Kemaskini Pemohonan")])],-1))])])]),default:J(()=>{var g,L,U,A,V,D;return[e("div",se,[e("div",ue,[e("div",ie,[e("div",le,[a[13]||(a[13]=e("h3",{class:"text-lg font-semibold text-gray-700"},"Butiran Pengurus",-1)),e("div",oe,[e("button",{onClick:M,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 focus:outline-none"}," Pilih Halaman "),f.value?(i(),l("div",de,[e("a",{href:t.route("applicant.edit",n.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pemohon ",8,ge),e("a",{href:t.route("pengusaha.edit",n.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pengusaha ",8,me),e("a",{href:t.route("butirantaska.edit",n.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Taman Asuhan Kanak-Kanak ",8,pe),a[11]||(a[11]=e("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Bilangan Kanak-Kanak ",-1)),a[12]||(a[12]=e("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Bayaran Kanak ",-1)),e("a",{href:t.route("butiranpengurus.edit",n.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pengurus ",8,ke),e("a",{href:t.route("butiranpenyelia.edit",n.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Penyelia ",8,be),e("a",{href:t.route("maklumatpekerja.edit",n.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Maklumat Pekerja ",8,ce),e("a",{href:t.route("dokumen.edit",n.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Dokumen Sokongan ",8,he)])):d("",!0)])]),x.value&&!m.value||w.value&&!m.value?(i(),l("div",xe,a[14]||(a[14]=[e("b",null,"Perhatian:",-1),b(" Sila pastikan anda klik "),e("b",null,"Kemaskini",-1),b(" untuk menyimpan perubahan. Jika anda keluar dari halaman atau ke halaman lain tanpa klik "),e("b",null,"Kemaskini",-1),b(", perubahan anda tidak akan disimpan."),e("br",null,null,-1),b(" Jika ada maklumat lain perlu dikemaskini, gunakan "),e("b",null,"Pilih Halaman",-1),b(" di atas. ")]))):d("",!0),m.value?(i(),l("div",fe," Permohonan sedang dalam proses semakan. Anda tidak boleh lagi mengemaskini maklumat. ")):d("",!0),e("form",{onSubmit:Y(N,["prevent"]),class:$(["max-w-lg mx-auto py-10",{"pointer-events-none opacity-60":m.value}])},[e("div",ye,[e("div",we,[a[15]||(a[15]=e("label",{for:"nama_pengurus",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(a) Nama",-1)),c(e("input",{"onUpdate:modelValue":a[0]||(a[0]=u=>o(s).nama_pengurus=u),type:"text",id:"nama_pengurus",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(s).nama_pengurus]]),(g=n.errors)!=null&&g.nama_pengurus?(i(),l("div",ve,p(n.errors.nama_pengurus),1)):d("",!0)]),e("div",_e,[a[16]||(a[16]=e("label",{for:"kad_pengenalan_pengurus",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(b) No. Kad Pengenalan",-1)),c(e("input",{"onUpdate:modelValue":a[1]||(a[1]=u=>o(s).kad_pengenalan_pengurus=u),type:"kad_pengenalan_pengurus",id:"kad_pengenalan_pengurus",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(s).kad_pengenalan_pengurus]]),(L=n.errors)!=null&&L.kad_pengenalan_pengurus?(i(),l("div",Pe,p(n.errors.kad_pengenalan_pengurus),1)):d("",!0)])]),e("div",Be,[a[17]||(a[17]=e("label",{for:"umur_pengurus",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(c) Umur",-1)),c(e("input",{"onUpdate:modelValue":a[2]||(a[2]=u=>o(s).umur_pengurus=u),type:"text",id:"umur_pengurus",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(s).umur_pengurus]]),(U=n.errors)!=null&&U.umur_pengurus?(i(),l("div",je,p(n.errors.umur_pengurus),1)):d("",!0)]),e("div",Se,[a[18]||(a[18]=e("label",{for:"kelulusan_akademik_pengurus",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(d) Kelulusan Akademik tertinggi",-1)),c(e("input",{"onUpdate:modelValue":a[3]||(a[3]=u=>o(s).kelulusan_akademik_pengurus=u),type:"text",id:"kelulusan_akademik_pengurus",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(s).kelulusan_akademik_pengurus]]),(A=n.errors)!=null&&A.kelulusan_akademik_pengurus?(i(),l("div",Ke,p(n.errors.kelulusan_akademik_pengurus),1)):d("",!0)]),e("div",Ce,[a[19]||(a[19]=e("label",{for:"jawatan_hakiki_pengurus",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(e) Nama jawatan hakiki (bagi TASKA di Tempat Kerja) ",-1)),c(e("input",{"onUpdate:modelValue":a[4]||(a[4]=u=>o(s).jawatan_hakiki_pengurus=u),type:"text",id:"jawatan_hakiki_pengurus",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(s).jawatan_hakiki_pengurus]]),(V=n.errors)!=null&&V.jawatan_hakiki_pengurus?(i(),l("div",Te,p(n.errors.jawatan_hakiki_pengurus),1)):d("",!0)]),e("div",Le,[a[20]||(a[20]=e("label",{for:"jenis_pengalaman_pengurus",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(f) Jenis Pengalaman ",-1)),e("div",null,[(i(!0),l(I,null,G(r.jenis_pengalaman_pengurus,u=>(i(),l("div",{key:u.id,class:"flex items-center mb-2"},[c(e("input",{type:"checkbox","onUpdate:modelValue":a[5]||(a[5]=E=>o(s).jenis_pengalaman_pengurus=E),value:u.id,id:"jenis_pengalaman_"+u.id,class:"input-field"},null,8,Ue),[[Q,o(s).jenis_pengalaman_pengurus]]),e("label",{for:"jenis_pengalaman_"+u.id,class:"ml-2 text-sm"},p(u.keterangan),9,Ae)]))),128))]),(D=n.errors)!=null&&D.jenis_pengalaman_pengurus?(i(),l("div",Ve,p(n.errors.jenis_pengalaman_pengurus),1)):d("",!0)]),e("div",De,[e("button",{type:"submit",disabled:m.value,class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-600 dark:hover:bg-blue-700 dark:focus:ring-purple-800"}," Kemaskini ",8,He),x.value&&!m.value?(i(),l("button",{key:0,type:"button",class:"ml-20 text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:O}," Selesai Perbaharui Lesen ")):d("",!0),w.value&&!m.value?(i(),l("button",{key:1,type:"button",class:"ml-20 text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:q}," Simpan Kemaskini ")):d("",!0)])],34)])])])]}),_:1}))}};export{qe as default};
