import{d as _,T as U,l as x,k as V,q as T,c as j,w as B,o,a as e,g as f,e as i,f as d,i as L,n as A,j as u,v as m,u as r,t as b}from"./app-DoPaJPuH.js";import{_ as D}from"./AppLayout-DgNSrLQi.js";import"./vue-multiselect.esm-CnuB1ff5.js";import{S as k}from"./sweetalert2.esm.all-D3pEHXw3.js";const N={class:"flex","aria-label":"Breadcrumb"},H={class:"inline-flex items-center space-x-1 md:space-x-3"},J={class:"inline-flex items-center"},R=["href"],M={class:"flex items-center"},O=["href"],E={class:"py-12"},q={class:"bg-white overflow-hidden sm:rounded-lg shadow-lg"},Z={class:"flex justify-between items-center px-6 py-4 bg-gray-100 border-b"},z={class:"relative"},Y={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10"},F=["href"],W=["href"],$=["href"],G=["href"],I=["href"],Q=["href"],X=["href"],ee={key:0,class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4"},ae={key:1,class:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4"},te={class:"mb-5"},re={key:0,class:"text-red-600 text-xs"},le={class:"mb-5"},ne={key:0,class:"text-red-600 text-xs"},se={class:"mb-5"},oe={key:0,class:"text-red-600 text-xs"},ie={class:"mb-5"},de={key:0,class:"text-red-600 text-xs"},ue={class:"mb-5"},me={key:0,class:"text-red-600 text-xs"},be={class:"mb-5"},ge={key:0,class:"text-red-600 text-xs"},pe={class:"flex gap-4 mb-5"},ke={class:"mb-5"},fe={key:0,class:"text-red-600 text-xs"},ce={class:"mb-5"},he={key:0,class:"text-red-600 text-xs"},xe={class:"mb-5"},ye={key:0,class:"text-red-600 text-xs"},we={class:"mb-5"},ve={key:0,class:"text-red-600 text-xs"},_e={class:"flex items-center"},Be=["disabled"],Ue={__name:"Update",props:{errors:Object,applicant:Object,auth:Object},setup(g){const s=g;_(["kerani","admin","Pegawai Perlulusan","Pegawai Penyemakan"]);const t=U({nama:s.applicant.nama,kad_pengenalan:s.applicant.kad_pengenalan,warganegara:s.applicant.warganegara,alamat_rumah:s.applicant.alamat_rumah,alamat_berlainan:s.applicant.alamat_berlainan,email:s.applicant.email,telefon_r:s.applicant.telefon_r,telefon_b:s.applicant.telefon_b,telefon_p:s.applicant.telefon_p,faks:s.applicant.faks}),P=()=>{k.fire({title:"Adakah anda ingin menyimpan perubahan?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Simpan",denyButtonText:"Jangan simpan"}).then(l=>{l.isConfirmed?(t.put(route("applicant.update",s.applicant.id),{errorBag:"updateApplicant",preserveScroll:!0}),k.fire("Disimpan!","","success")):l.isDenied&&k.fire("Perubahan tidak disimpan","","info")})},h=_(!1),S=()=>{h.value=!h.value},c=x(()=>{var l,a,n;return((n=(a=(l=s.auth)==null?void 0:l.user)==null?void 0:a.role)==null?void 0:n.toLowerCase())==="kerani"&&s.applicant.status==="Perbaharui Lesen"}),y=x(()=>{var l,a,n;return((n=(a=(l=s.auth)==null?void 0:l.user)==null?void 0:a.role)==null?void 0:n.toLowerCase())==="kerani"&&s.applicant.status==="Borang Tidak Lengkap"}),p=x(()=>s.applicant.status==="Dalam Semakan"||s.applicant.status==="Dalam Proses Semakan");let w=!1;V(t,()=>{c.value&&(w=!0)},{deep:!0});const v=l=>{if(c.value&&w)return l.preventDefault(),l.returnValue="",""};typeof window<"u"&&(window.addEventListener("beforeunload",v),T(()=>window.removeEventListener("beforeunload",v)));const K=()=>{k.fire({title:"Sahkan Selesai Perbaharui Lesen?",html:"Adakah anda sudah mengemaskini semua maklumat? <br><b>Jika belum, sila gunakan 'Pilih Halaman' untuk kemaskini.</b><br><br><span class='text-red-600'>Jika anda keluar dari halaman tanpa klik 'Kemaskini', perubahan tidak akan disimpan.</span>",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Selesai & Hantar",cancelButtonText:"Batal"}).then(l=>{l.isConfirmed&&t.put(route("applicant.update",s.applicant.id),{preserveScroll:!0,onSuccess:()=>{axios.post(route("renew.complete",s.applicant.id)).then(()=>{k.fire("Berjaya!","Permohonan telah dihantar untuk semakan.","success").then(()=>window.location.href=route("applicant.index"))})}})})},C=()=>{k.fire({title:"Sahkan Simpan Kemaskini?",html:"Adakah anda sudah mengemaskini semua maklumat? <br><b>Jika belum, sila gunakan 'Pilih Halaman' untuk kemaskini.</b><br><br><span class='text-red-600'>Jika anda keluar dari halaman tanpa klik 'Kemaskini', perubahan tidak akan disimpan.</span>",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Simpan & Hantar",cancelButtonText:"Batal"}).then(l=>{l.isConfirmed&&t.put(route("applicant.update",s.applicant.id),{preserveScroll:!0,onSuccess:()=>{k.fire("Berjaya!","Permohonan telah dihantar untuk semakan.","success").then(()=>window.location.href=route("applicant.index"))}})})};return(l,a)=>(o(),j(D,{title:"Kemaskini Pemohonan "},{header:B(()=>[a[13]||(a[13]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Kemaskini Pemohonan ",-1)),a[14]||(a[14]=e("br",null,null,-1)),e("nav",N,[e("ol",H,[e("li",J,[e("a",{href:l.route("dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},a[10]||(a[10]=[e("svg",{class:"w-3 h-3 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})],-1),f(" Home ")]),8,R)]),e("li",null,[e("div",M,[a[11]||(a[11]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})],-1)),e("a",{href:l.route("applicant.index"),class:"ml-1 text-sm font-medium text-gray-700 hover:text-gray-900 md:ml-2 dark:text-gray-400 dark:hover:text-white"},"Senarai Pemohon",8,O)])]),a[12]||(a[12]=e("li",{"aria-current":"page"},[e("div",{class:"flex items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})]),e("span",{class:"ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400"},"Kemaskini Pemohonan")])],-1))])])]),default:B(()=>[e("div",E,[e("div",q,[e("div",Z,[a[17]||(a[17]=e("h3",{class:"text-lg font-semibold text-gray-700"},"Kemaskini Butiran Pemohon",-1)),e("div",z,[e("button",{onClick:S,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 focus:outline-none"}," Pilih Halaman "),h.value?(o(),i("div",Y,[e("a",{href:l.route("applicant.edit",g.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pemohon ",8,F),e("a",{href:l.route("pengusaha.edit",g.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pengusaha ",8,W),e("a",{href:l.route("butirantaska.edit",g.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Taman Asuhan Kanak-Kanak ",8,$),a[15]||(a[15]=e("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Bilangan Kanak-Kanak ",-1)),a[16]||(a[16]=e("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Bayaran Kanak ",-1)),e("a",{href:l.route("butiranpengurus.edit",g.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pengurus ",8,G),e("a",{href:l.route("butiranpenyelia.edit",g.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Penyelia ",8,I),e("a",{href:l.route("maklumatpekerja.edit",g.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Maklumat Pekerja ",8,Q),e("a",{href:l.route("dokumen.edit",g.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Dokumen Sokongan ",8,X)])):d("",!0)])]),c.value&&!p.value||y.value&&!p.value?(o(),i("div",ee,a[18]||(a[18]=[e("b",null,"Perhatian:",-1),f(" Sila pastikan anda klik "),e("b",null,"Kemaskini",-1),f(" untuk menyimpan perubahan. Jika anda keluar dari halaman atau ke halaman lain tanpa klik "),e("b",null,"Kemaskini",-1),f(", perubahan anda tidak akan disimpan."),e("br",null,null,-1),f(" Jika ada maklumat lain perlu dikemaskini, gunakan "),e("b",null,"Pilih Halaman",-1),f(" di atas. ")]))):d("",!0),p.value?(o(),i("div",ae," Permohonan sedang dalam proses semakan. Anda tidak boleh lagi mengemaskini maklumat. ")):d("",!0),e("form",{onSubmit:L(P,["prevent"]),class:A(["max-w-sm mx-auto py-10",{"pointer-events-none opacity-60":p.value}])},[e("div",te,[a[19]||(a[19]=e("label",{for:"nama",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(a) Nama",-1)),u(e("input",{"onUpdate:modelValue":a[0]||(a[0]=n=>r(t).nama=n),type:"text",id:"nama",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light",placeholder:""},null,512),[[m,r(t).nama]]),r(t).errors.nama?(o(),i("div",re,b(r(t).errors.nama),1)):d("",!0)]),e("div",le,[a[20]||(a[20]=e("label",{for:"kad_pengenalan",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(b) No. Kad Pengenalan",-1)),u(e("input",{"onUpdate:modelValue":a[1]||(a[1]=n=>r(t).kad_pengenalan=n),type:"kad_pengenalan",id:"kad_pengenalan",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light",placeholder:"name@flowbite.com"},null,512),[[m,r(t).kad_pengenalan]]),r(t).errors.kad_pengenalan?(o(),i("div",ne,b(r(t).errors.kad_pengenalan),1)):d("",!0)]),e("div",se,[a[21]||(a[21]=e("label",{for:"warganegara",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(c) Warganegara",-1)),u(e("input",{"onUpdate:modelValue":a[2]||(a[2]=n=>r(t).warganegara=n),type:"warganegara",id:"warganegara",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[m,r(t).warganegara]]),r(t).errors.warganegara?(o(),i("div",oe,b(r(t).errors.warganegara),1)):d("",!0)]),e("div",ie,[a[22]||(a[22]=e("label",{for:"alamat_rumah",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(d) Alamat Rumah",-1)),u(e("input",{"onUpdate:modelValue":a[3]||(a[3]=n=>r(t).alamat_rumah=n),type:"alamat_rumah",id:"alamat_rumah",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[m,r(t).alamat_rumah]]),r(t).errors.alamat_rumah?(o(),i("div",de,b(r(t).errors.alamat_rumah),1)):d("",!0)]),e("div",ue,[a[23]||(a[23]=e("label",{for:"alamat_berlainan",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(e) Alamat pos jika berlainan daripada (d)",-1)),u(e("input",{"onUpdate:modelValue":a[4]||(a[4]=n=>r(t).alamat_berlainan=n),type:"alamat_berlainan",id:"alamat_berlainan",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[m,r(t).alamat_berlainan]]),r(t).errors.alamat_berlainan?(o(),i("div",me,b(r(t).errors.alamat_berlainan),1)):d("",!0)]),e("div",be,[a[24]||(a[24]=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(f) Emel",-1)),u(e("input",{"onUpdate:modelValue":a[5]||(a[5]=n=>r(t).email=n),type:"email",id:"email",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[m,r(t).email]]),r(t).errors.email?(o(),i("div",ge,b(r(t).errors.email),1)):d("",!0)]),e("div",pe,[a[28]||(a[28]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(g) No. Telefon:",-1)),e("div",ke,[a[25]||(a[25]=e("label",{for:"telefon_r",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"R (Rumah)",-1)),u(e("input",{"onUpdate:modelValue":a[6]||(a[6]=n=>r(t).telefon_r=n),type:"telefon_r",id:"telefon_r",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[m,r(t).telefon_r]]),r(t).errors.telefon_r?(o(),i("div",fe,b(r(t).errors.telefon_r),1)):d("",!0)]),e("div",ce,[a[26]||(a[26]=e("label",{for:"telefon_b",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"B (Bimbit)",-1)),u(e("input",{"onUpdate:modelValue":a[7]||(a[7]=n=>r(t).telefon_b=n),type:"telefon_b",id:"telefon_b",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[m,r(t).telefon_b]]),r(t).errors.telefon_b?(o(),i("div",he,b(r(t).errors.telefon_b),1)):d("",!0)]),e("div",xe,[a[27]||(a[27]=e("label",{for:"telefon_p",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"P (Pejabat)",-1)),u(e("input",{"onUpdate:modelValue":a[8]||(a[8]=n=>r(t).telefon_p=n),type:"telefon_p",id:"telefon_p",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[m,r(t).telefon_p]]),r(t).errors.telefon_p?(o(),i("div",ye,b(r(t).errors.telefon_p),1)):d("",!0)])]),e("div",we,[a[29]||(a[29]=e("label",{for:"faks",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(h) No. Faks",-1)),u(e("input",{"onUpdate:modelValue":a[9]||(a[9]=n=>r(t).faks=n),type:"faks",id:"faks",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light"},null,512),[[m,r(t).faks]]),r(t).errors.faks?(o(),i("div",ve,b(r(t).errors.faks),1)):d("",!0)]),e("div",_e,[e("button",{type:"submit",disabled:p.value,class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-600 dark:hover:bg-blue-700 dark:focus:ring-purple-800"}," Kemaskini ",8,Be),c.value&&!p.value?(o(),i("button",{key:0,type:"button",class:"ml-20 text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:K}," Selesai Perbaharui Lesen ")):d("",!0),y.value&&!p.value?(o(),i("button",{key:1,type:"button",class:"ml-20 text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:C}," Simpan Kemaskini ")):d("",!0)])],34)])])]),_:1}))}};export{Ue as default};
