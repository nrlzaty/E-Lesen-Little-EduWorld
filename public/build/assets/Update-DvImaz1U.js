import{d as O,T as z,l as y,k as Y,q as F,c as W,w as M,o as i,a,g as x,e as d,f as u,i as $,n as G,j as m,v as b,u as l,t as g}from"./app-DoPaJPuH.js";import{_ as I}from"./AppLayout-DgNSrLQi.js";import"./vue-multiselect.esm-CnuB1ff5.js";import{S as c}from"./sweetalert2.esm.all-D3pEHXw3.js";const Q={class:"flex","aria-label":"Breadcrumb"},X={class:"inline-flex items-center space-x-1 md:space-x-3"},aa={class:"inline-flex items-center"},ea=["href"],ta={class:"flex items-center"},ra=["href"],sa={class:"py-12"},na={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},la={class:"bg-white overflow-hidden sm:rounded-lg shadow-lg"},oa={class:"flex justify-between items-center px-6 py-4 bg-gray-100 border-b"},ia={class:"relative"},da={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10"},ua=["href"],ka=["href"],ma=["href"],ba=["href"],ga=["href"],fa=["href"],ca=["href"],xa={key:0,class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4"},pa={key:1,class:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4"},ha={class:"flex gap-4 mb-5"},ya={class:"flex-1"},wa={key:0,class:"text-red-600 text-xs"},va={class:"flex-1"},_a={key:0,class:"text-red-600 text-xs"},Ba={class:"flex gap-4 mb-5"},Pa={class:"flex-1"},Ta={key:0,class:"text-red-600 text-xs"},Sa={class:"flex-1"},Ka={key:0,class:"text-red-600 text-xs"},Ca={class:"flex-1"},Ua={key:0,class:"text-red-600 text-xs"},Va={class:"mb-5"},La={key:0,class:"text-red-600 text-xs"},ja={class:"mb-5"},Aa={key:0,class:"text-red-600 text-xs"},Da={class:"mb-5"},Ha={key:0,class:"text-red-600 text-xs"},Na={class:"flex items-center"},Ja=["disabled"],qa={__name:"Update",props:{errors:Object,applicant:Object,butiranTaska:Object,auth:Object},setup(r){var B,P,T,S,K,C,U,V;const n=r;O(["kerani","admin","Pegawai Perlulusan","Pegawai Penyemakan"]);const s=z({applicant_id:n.applicant.id,nama_taska:(B=n.butiranTaska)==null?void 0:B.nama_taska,alamat_taska:(P=n.butiranTaska)==null?void 0:P.alamat_taska,telefon_taska_r:(T=n.butiranTaska)==null?void 0:T.telefon_taska_r,telefon_taska_b:(S=n.butiranTaska)==null?void 0:S.telefon_taska_b,telefon_taska_p:(K=n.butiranTaska)==null?void 0:K.telefon_taska_p,faks_taska:(C=n.butiranTaska)==null?void 0:C.faks_taska,email_taska:(U=n.butiranTaska)==null?void 0:U.email_taska,laman_web_taska:(V=n.butiranTaska)==null?void 0:V.laman_web_taska}),R=()=>{c.fire({title:"Adakah anda ingin menyimpan perubahan?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Simpan",denyButtonText:"Jangan simpan"}).then(t=>{t.isConfirmed?(s.put(route("butirantaska.update",n.butiranTaska.id),{errorBag:"updateTaska",preserveScroll:!0}),c.fire("Disimpan!","","success")):t.isDenied&&c.fire("Perubahan tidak disimpan","","info")})},h=O(!1),E=()=>{h.value=!h.value},p=y(()=>{var t,e,k;return((k=(e=(t=n.auth)==null?void 0:t.user)==null?void 0:e.role)==null?void 0:k.toLowerCase())==="kerani"&&n.applicant.status==="Perbaharui Lesen"}),w=y(()=>{var t,e,k;return((k=(e=(t=n.auth)==null?void 0:t.user)==null?void 0:e.role)==null?void 0:k.toLowerCase())==="kerani"&&n.applicant.status==="Borang Tidak Lengkap"}),f=y(()=>n.applicant.status==="Dalam Semakan"||n.applicant.status==="Dalam Proses Semakan");let v=!1;Y(s,()=>{p.value&&(v=!0)},{deep:!0});const _=t=>{if(p.value&&v)return t.preventDefault(),t.returnValue="",""};typeof window<"u"&&(window.addEventListener("beforeunload",_),F(()=>window.removeEventListener("beforeunload",_)));const q=()=>{c.fire({title:"Sahkan Selesai Perbaharui Lesen?",html:"Adakah anda sudah mengemaskini semua maklumat? <br><b>Jika belum, sila gunakan 'Pilih Halaman' untuk kemaskini.</b><br><br><span class='text-red-600'>Jika anda keluar dari halaman tanpa klik 'Kemaskini', perubahan tidak akan disimpan.</span>",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Selesai & Hantar",cancelButtonText:"Batal"}).then(t=>{t.isConfirmed&&s.put(route("butirantaska.update",n.butiranTaska.id),{preserveScroll:!0,onSuccess:()=>{axios.post(route("renew.complete",n.applicant.id)).then(()=>{c.fire("Berjaya!","Permohonan telah dihantar untuk semakan.","success").then(()=>window.location.href=route("applicant.index"))})}})})},Z=()=>{c.fire({title:"Sahkan Simpan Kemaskini?",html:"Adakah anda sudah mengemaskini semua maklumat? <br><b>Jika belum, sila gunakan 'Pilih Halaman' untuk kemaskini.</b><br><br><span class='text-red-600'>Jika anda keluar dari halaman tanpa klik 'Kemaskini', perubahan tidak akan disimpan.</span>",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Simpan & Hantar",cancelButtonText:"Batal"}).then(t=>{t.isConfirmed&&s.put(route("butirantaska.update",n.butiranTaska.id),{preserveScroll:!0,onSuccess:()=>{c.fire("Berjaya!","Permohonan telah dihantar untuk semakan.","success").then(()=>window.location.href=route("applicant.index"))}})})};return(t,e)=>(i(),W(I,{title:"Kemaskini Pemohonan "},{header:M(()=>[e[11]||(e[11]=a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Kemaskini Pemohonan ",-1)),e[12]||(e[12]=a("br",null,null,-1)),a("nav",Q,[a("ol",X,[a("li",aa,[a("a",{href:t.route("dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},e[8]||(e[8]=[a("svg",{class:"w-3 h-3 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})],-1),x(" Home ")]),8,ea)]),a("li",null,[a("div",ta,[e[9]||(e[9]=a("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})],-1)),a("a",{href:t.route("applicant.index"),class:"ml-1 text-sm font-medium text-gray-700 hover:text-gray-900 md:ml-2 dark:text-gray-400 dark:hover:text-white"},"Senarai Pemohon",8,ra)])]),e[10]||(e[10]=a("li",{"aria-current":"page"},[a("div",{class:"flex items-center"},[a("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})]),a("span",{class:"ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400"},"Kemaskini Pemohonan")])],-1))])])]),default:M(()=>{var k,L,j,A,D,H,N,J;return[a("div",sa,[a("div",na,[a("div",la,[a("div",oa,[e[15]||(e[15]=a("h3",{class:"text-lg font-semibold text-gray-700"},"Butiran Taman Asuhan Kanak-kanak",-1)),a("div",ia,[a("button",{onClick:E,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 focus:outline-none"}," Pilih Halaman "),h.value?(i(),d("div",da,[a("a",{href:t.route("applicant.edit",r.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pemohon ",8,ua),a("a",{href:t.route("pengusaha.edit",r.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pengusaha ",8,ka),a("a",{href:t.route("butirantaska.edit",r.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Taman Asuhan Kanak-Kanak ",8,ma),e[13]||(e[13]=a("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Bilangan Kanak-Kanak ",-1)),e[14]||(e[14]=a("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Bayaran Kanak ",-1)),a("a",{href:t.route("butiranpengurus.edit",r.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pengurus ",8,ba),a("a",{href:t.route("butiranpenyelia.edit",r.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Penyelia ",8,ga),a("a",{href:t.route("maklumatpekerja.edit",r.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Maklumat Pekerja ",8,fa),a("a",{href:t.route("dokumen.edit",r.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Dokumen Sokongan ",8,ca)])):u("",!0)])]),p.value&&!f.value||w.value&&!f.value?(i(),d("div",xa,e[16]||(e[16]=[a("b",null,"Perhatian:",-1),x(" Sila pastikan anda klik "),a("b",null,"Kemaskini",-1),x(" untuk menyimpan perubahan. Jika anda keluar dari halaman atau ke halaman lain tanpa klik "),a("b",null,"Kemaskini",-1),x(", perubahan anda tidak akan disimpan."),a("br",null,null,-1),x(" Jika ada maklumat lain perlu dikemaskini, gunakan "),a("b",null,"Pilih Halaman",-1),x(" di atas. ")]))):u("",!0),f.value?(i(),d("div",pa," Permohonan sedang dalam proses semakan. Anda tidak boleh lagi mengemaskini maklumat. ")):u("",!0),a("form",{onSubmit:$(R,["prevent"]),class:G(["max-w-lg mx-auto py-10",{"pointer-events-none opacity-60":f.value}])},[a("div",ha,[a("div",ya,[e[17]||(e[17]=a("label",{for:"nama_taska",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(a) Nama TASKA",-1)),m(a("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l(s).nama_taska=o),type:"text",id:"nama_taska",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,l(s).nama_taska]]),(k=r.errors)!=null&&k.nama_taska?(i(),d("div",wa,g(r.errors.nama_taska),1)):u("",!0)]),a("div",va,[e[18]||(e[18]=a("label",{for:"alamat_taska",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(b) Alamat ",-1)),m(a("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>l(s).alamat_taska=o),type:"text",id:"alamat_taska",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,l(s).alamat_taska]]),(L=r.errors)!=null&&L.alamat_taska?(i(),d("div",_a,g(r.errors.alamat_taska),1)):u("",!0)])]),a("div",Ba,[e[22]||(e[22]=a("label",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(c) No. Telefon:",-1)),a("div",Pa,[e[19]||(e[19]=a("label",{for:"telefon_taska_r",class:"block text-sm font-medium text-gray-900 dark:text-white"},"R (Rumah)",-1)),m(a("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l(s).telefon_taska_r=o),type:"text",id:"telefon_taska_r",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,l(s).telefon_taska_r]]),(j=r.errors)!=null&&j.telefon_taska_r?(i(),d("div",Ta,g(r.errors.telefon_taska_r),1)):u("",!0)]),a("div",Sa,[e[20]||(e[20]=a("label",{for:"telefon_taska_b",class:"block text-sm font-medium text-gray-900 dark:text-white"},"B (Bimbit)",-1)),m(a("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>l(s).telefon_taska_b=o),type:"text",id:"telefon_taska_b",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,l(s).telefon_taska_b]]),(A=r.errors)!=null&&A.telefon_taska_b?(i(),d("div",Ka,g(r.errors.telefon_taska_b),1)):u("",!0)]),a("div",Ca,[e[21]||(e[21]=a("label",{for:"telefon_taska_p",class:"block text-sm font-medium text-gray-900 dark:text-white"},"P (Pejabat)",-1)),m(a("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>l(s).telefon_taska_p=o),type:"text",id:"telefon_taska_p",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,l(s).telefon_taska_p]]),(D=r.errors)!=null&&D.telefon_taska_p?(i(),d("div",Ua,g(r.errors.telefon_taska_p),1)):u("",!0)])]),a("div",Va,[e[23]||(e[23]=a("label",{for:"faks_taska",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(d) No. Faks ",-1)),m(a("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>l(s).faks_taska=o),type:"text",id:"faks_taska",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,l(s).faks_taska]]),(H=r.errors)!=null&&H.faks_taska?(i(),d("div",La,g(r.errors.faks_taska),1)):u("",!0)]),a("div",ja,[e[24]||(e[24]=a("label",{for:"email_taska",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(e) Emel ",-1)),m(a("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>l(s).email_taska=o),type:"text",id:"email_taska",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,l(s).email_taska]]),(N=r.errors)!=null&&N.email_taska?(i(),d("div",Aa,g(r.errors.email_taska),1)):u("",!0)]),a("div",Da,[e[25]||(e[25]=a("label",{for:"laman_web_taska",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(f) Laman Web",-1)),m(a("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>l(s).laman_web_taska=o),type:"text",id:"laman_web_taska",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[b,l(s).laman_web_taska]]),(J=r.errors)!=null&&J.laman_web_taska?(i(),d("div",Ha,g(r.errors.laman_web_taska),1)):u("",!0)]),a("div",Na,[a("button",{type:"submit",disabled:f.value,class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-600 dark:hover:bg-blue-700 dark:focus:ring-purple-800"}," Kemaskini ",8,Ja),p.value&&!f.value?(i(),d("button",{key:0,type:"button",class:"ml-20 text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:q}," Selesai Perbaharui Lesen ")):u("",!0),w.value&&!f.value?(i(),d("button",{key:1,type:"button",class:"ml-20 text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:Z}," Simpan Kemaskini ")):u("",!0)])],34)])])])]}),_:1}))}};export{qa as default};
