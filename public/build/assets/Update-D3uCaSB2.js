import{d as E,T as Y,l as y,k as W,q as $,c as G,w as R,o as i,a,g as c,e as u,f as d,i as I,n as Q,j as m,v as h,u as o,t as g,m as X,h as aa,F as ea}from"./app-DoPaJPuH.js";import{_ as ta}from"./AppLayout-DgNSrLQi.js";import"./vue-multiselect.esm-CnuB1ff5.js";import{S as k}from"./sweetalert2.esm.all-D3pEHXw3.js";const ra={class:"flex","aria-label":"Breadcrumb"},na={class:"inline-flex items-center space-x-1 md:space-x-3"},sa={class:"inline-flex items-center"},la=["href"],oa={class:"flex items-center"},ia=["href"],ua={class:"py-12"},da={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ga={class:"bg-white overflow-hidden sm:rounded-lg shadow-lg"},ma={class:"flex justify-between items-center px-6 py-4 bg-gray-100 border-b"},ba={class:"relative"},ha={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10"},pa=["href"],ka=["href"],ca=["href"],fa=["href"],xa=["href"],ya=["href"],wa=["href"],va={key:0,class:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4"},_a={key:1,class:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-4"},Pa={class:"flex gap-4 mb-5"},Ba={class:"flex-1"},Sa={key:0,class:"text-red-600 text-xs"},ja={class:"flex-1"},Ka={key:0,class:"text-red-600 text-xs"},Ca={class:"mb-5"},Ua={key:0,class:"text-red-600 text-xs"},Va={class:"mb-5"},La={key:0,class:"text-red-600 text-xs"},Ta={class:"mb-5"},Da={key:0,class:"text-red-600 text-xs"},Aa={class:"mb-5"},Na={key:0,class:"text-red-600 text-xs"},Ha={class:"flex gap-4 mb-5"},Ja={class:"flex-1"},Ma={key:0,class:"text-red-600 text-xs"},Oa={class:"mb-5"},Ea={key:0,class:"text-red-600 text-xs"},Ra={class:"mb-5"},qa=["value"],Fa={key:0,class:"text-red-600 text-xs"},Za={class:"flex items-center"},za=["disabled"],Ia={__name:"Update",props:{errors:Object,jenis_pengusaha:Object,applicant:Object,butiranPengusaha:Object,auth:Object},setup(t){var P,B,S,j,K,C,U,V,L;const s=t;E(["user","admin","officer"]);const n=Y({applicant_id:s.applicant.id,nama_pengusaha:(P=s.butiranPengusaha)==null?void 0:P.nama_pengusaha,kad_pengenalan_pengusaha:(B=s.butiranPengusaha)==null?void 0:B.kad_pengenalan_pengusaha,warganegara_pengusaha:(S=s.butiranPengusaha)==null?void 0:S.warganegara_pengusaha,alamat_rumah_pengusaha:(j=s.butiranPengusaha)==null?void 0:j.alamat_rumah_pengusaha,alamat_berlainan_pengusaha:(K=s.butiranPengusaha)==null?void 0:K.alamat_berlainan_pengusaha,email_pengusaha:(C=s.butiranPengusaha)==null?void 0:C.email_pengusaha,telefon_pengusaha:(U=s.butiranPengusaha)==null?void 0:U.telefon_pengusaha,faks_pengusaha:(V=s.butiranPengusaha)==null?void 0:V.faks_pengusaha,jenis_pengusaha:(L=s.butiranPengusaha)==null?void 0:L.jenis_pengusaha}),q=()=>{k.fire({title:"Adakah anda ingin menyimpan perubahan?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Simpan",denyButtonText:"Jangan simpan"}).then(r=>{r.isConfirmed?(n.put(route("pengusaha.update",s.butiranPengusaha.id),{errorBag:"updatePengusaha",preserveScroll:!0}),k.fire("Disimpan!","","success")):r.isDenied&&k.fire("Perubahan tidak disimpan","","info")})},x=E(!1),F=()=>{x.value=!x.value},f=y(()=>{var r,e,b;return((b=(e=(r=s.auth)==null?void 0:r.user)==null?void 0:e.role)==null?void 0:b.toLowerCase())==="kerani"&&s.applicant.status==="Perbaharui Lesen"}),p=y(()=>s.applicant.status==="Dalam Semakan"||s.applicant.status==="Dalam Proses Semakan"),w=y(()=>{var r,e,b;return((b=(e=(r=s.auth)==null?void 0:r.user)==null?void 0:e.role)==null?void 0:b.toLowerCase())==="kerani"&&s.applicant.status==="Borang Tidak Lengkap"}),Z=()=>{k.fire({title:"Sahkan Selesai Perbaharui Lesen?",html:"Adakah anda sudah mengemaskini semua maklumat? <br><b>Jika belum, sila gunakan 'Pilih Halaman' untuk kemaskini.</b><br><br><span class='text-red-600'>Jika anda keluar dari halaman tanpa klik 'Kemaskini', perubahan tidak akan disimpan.</span>",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Selesai & Hantar",cancelButtonText:"Batal"}).then(r=>{r.isConfirmed&&n.put(route("pengusaha.update",s.butiranPengusaha.id),{preserveScroll:!0,onSuccess:()=>{axios.post(route("renew.complete",s.applicant.id)).then(()=>{k.fire("Berjaya!","Permohonan telah dihantar untuk semakan.","success").then(()=>window.location.href=route("applicant.index"))})}})})},z=()=>{k.fire({title:"Sahkan Simpan Kemaskini?",html:"Adakah anda sudah mengemaskini semua maklumat? <br><b>Jika belum, sila gunakan 'Pilih Halaman' untuk kemaskini.</b><br><br><span class='text-red-600'>Jika anda keluar dari halaman tanpa klik 'Kemaskini', perubahan tidak akan disimpan.</span>",icon:"question",showCancelButton:!0,confirmButtonText:"Ya, Simpan & Hantar",cancelButtonText:"Batal"}).then(r=>{r.isConfirmed&&n.put(route("pengusaha.update",s.butiranPengusaha.id),{preserveScroll:!0,onSuccess:()=>{k.fire("Berjaya!","Permohonan telah dihantar untuk semakan.","success").then(()=>window.location.href=route("applicant.index"))}})})};let v=!1;W(n,()=>{f.value&&(v=!0)},{deep:!0});const _=r=>{if(f.value&&v)return r.preventDefault(),r.returnValue="",""};return typeof window<"u"&&(window.addEventListener("beforeunload",_),$(()=>window.removeEventListener("beforeunload",_))),(r,e)=>(i(),G(ta,{title:"Kemaskini Pemohonan "},{header:R(()=>[e[12]||(e[12]=a("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Kemaskini Pemohonan ",-1)),e[13]||(e[13]=a("br",null,null,-1)),a("nav",ra,[a("ol",na,[a("li",sa,[a("a",{href:r.route("dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},e[9]||(e[9]=[a("svg",{class:"w-3 h-3 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[a("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})],-1),c(" Home ")]),8,la)]),a("li",null,[a("div",oa,[e[10]||(e[10]=a("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})],-1)),a("a",{href:r.route("applicant.index"),class:"ml-1 text-sm font-medium text-gray-700 hover:text-gray-900 md:ml-2 dark:text-gray-400 dark:hover:text-white"},"Senarai Pemohon",8,ia)])]),e[11]||(e[11]=a("li",{"aria-current":"page"},[a("div",{class:"flex items-center"},[a("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[a("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})]),a("span",{class:"ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400"},"Kemaskini Pemohonan")])],-1))])])]),default:R(()=>{var b,T,D,A,N,H,J,M,O;return[a("div",ua,[a("div",da,[a("div",ga,[a("div",ma,[e[16]||(e[16]=a("h3",{class:"text-lg font-semibold text-gray-700"},"Maklumat Pengusaha",-1)),a("div",ba,[a("button",{onClick:F,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 focus:outline-none"}," Pilih Halaman "),x.value?(i(),u("div",ha,[a("a",{href:r.route("applicant.edit",t.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pemohon ",8,pa),a("a",{href:r.route("pengusaha.edit",t.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pengusaha ",8,ka),a("a",{href:r.route("butirantaska.edit",t.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Taman Asuhan Kanak-Kanak ",8,ca),e[14]||(e[14]=a("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Bilangan Kanak-Kanak ",-1)),e[15]||(e[15]=a("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Bayaran Kanak-Kanak ",-1)),a("a",{href:r.route("butiranpengurus.edit",t.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Pengurus ",8,fa),a("a",{href:r.route("butiranpenyelia.edit",t.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Butiran Penyelia ",8,xa),a("a",{href:r.route("maklumatpekerja.edit",t.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Maklumat Pekerja ",8,ya),a("a",{href:r.route("dokumen.edit",t.applicant.id),class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Dokumen Sokongan ",8,wa)])):d("",!0)])]),f.value&&!p.value||w.value&&!p.value?(i(),u("div",va,e[17]||(e[17]=[a("b",null,"Perhatian:",-1),c(" Sila pastikan anda klik "),a("b",null,"Kemaskini",-1),c(" untuk menyimpan perubahan. Jika anda keluar dari halaman atau ke halaman lain tanpa klik "),a("b",null,"Kemaskini",-1),c(", perubahan anda tidak akan disimpan."),a("br",null,null,-1),c(" Jika ada maklumat lain perlu dikemaskini, gunakan "),a("b",null,"Pilih Halaman",-1),c(" di atas. ")]))):d("",!0),p.value?(i(),u("div",_a," Permohonan sedang dalam proses semakan. Anda tidak boleh lagi mengemaskini maklumat. ")):d("",!0),a("form",{onSubmit:I(q,["prevent"]),class:Q(["max-w-sm mx-auto py-10",{"pointer-events-none opacity-60":p.value}])},[a("div",Pa,[a("div",Ba,[e[18]||(e[18]=a("label",{for:"nama_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(a) Nama",-1)),m(a("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o(n).nama_pengusaha=l),type:"text",id:"nama_pengusaha",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(n).nama_pengusaha]]),(b=t.errors)!=null&&b.nama_pengusaha?(i(),u("div",Sa,g(t.errors.nama_pengusaha),1)):d("",!0)]),a("div",ja,[e[19]||(e[19]=a("label",{for:"kad_pengenalan_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(b) No. Kad Pengenalan",-1)),m(a("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>o(n).kad_pengenalan_pengusaha=l),type:"kad_pengenalan_pengusaha",id:"kad_pengenalan_pengusaha",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(n).kad_pengenalan_pengusaha]]),(T=t.errors)!=null&&T.kad_pengenalan_pengusaha?(i(),u("div",Ka,g(t.errors.kad_pengenalan_pengusaha),1)):d("",!0)])]),a("div",Ca,[e[20]||(e[20]=a("label",{for:"warganegara_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(c) Warganegara",-1)),m(a("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>o(n).warganegara_pengusaha=l),type:"text",id:"warganegara",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(n).warganegara_pengusaha]]),(D=t.errors)!=null&&D.warganegara_pengusaha?(i(),u("div",Ua,g(t.errors.warganegara_pengusaha),1)):d("",!0)]),a("div",Va,[e[21]||(e[21]=a("label",{for:"alamat_rumah_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(d) Alamat Rumah",-1)),m(a("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>o(n).alamat_rumah_pengusaha=l),type:"text",id:"confirm-password",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(n).alamat_rumah_pengusaha]]),(A=t.errors)!=null&&A.alamat_rumah_pengusaha?(i(),u("div",La,g(t.errors.alamat_rumah_pengusaha),1)):d("",!0)]),a("div",Ta,[e[22]||(e[22]=a("label",{for:"alamat_berlainan_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(e) Alamat pos jika berlainan daripada (d) ",-1)),m(a("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o(n).alamat_berlainan_pengusaha=l),type:"text",id:"alamat_berlainan_pengusaha",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(n).alamat_berlainan_pengusaha]]),(N=t.errors)!=null&&N.alamat_berlainan_pengusaha?(i(),u("div",Da,g(t.errors.alamat_berlainan_pengusaha),1)):d("",!0)]),a("div",Aa,[e[23]||(e[23]=a("label",{for:"email_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(f) Emel ",-1)),m(a("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>o(n).email_pengusaha=l),type:"text",id:"email_pengusaha",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(n).email_pengusaha]]),(H=t.errors)!=null&&H.email_pengusaha?(i(),u("div",Na,g(t.errors.email_pengusaha),1)):d("",!0)]),a("div",Ha,[e[24]||(e[24]=a("label",{for:"telefon_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(g) No. Telefon:",-1)),a("div",Ja,[m(a("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>o(n).telefon_pengusaha=l),type:"text",id:"telefon_pengusaha",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(n).telefon_pengusaha]]),(J=t.errors)!=null&&J.telefon_pengusaha?(i(),u("div",Ma,g(t.errors.telefon_pengusaha),1)):d("",!0)])]),a("div",Oa,[e[25]||(e[25]=a("label",{for:"faks_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"(h) No. Faks ",-1)),m(a("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>o(n).faks_pengusaha=l),type:"faks",id:"faks_pengusaha",class:"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},null,512),[[h,o(n).faks_pengusaha]]),(M=t.errors)!=null&&M.faks_pengusaha?(i(),u("div",Ea,g(t.errors.faks_pengusaha),1)):d("",!0)]),a("div",Ra,[e[26]||(e[26]=a("label",{for:"jenis_pengusaha",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Jenis Pengusaha",-1)),m(a("select",{id:"jenis_pengusaha","onUpdate:modelValue":e[8]||(e[8]=l=>o(n).jenis_pengusaha=l),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(i(!0),u(ea,null,aa(s.jenis_pengusaha,l=>(i(),u("option",{value:l.keterangan},g(l.keterangan),9,qa))),256))],512),[[X,o(n).jenis_pengusaha]]),(O=t.errors)!=null&&O.jenis_pengusaha?(i(),u("div",Fa,g(t.errors.jenis_pengusaha),1)):d("",!0)]),a("div",Za,[a("button",{type:"submit",disabled:p.value,class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Kemaskini ",8,za),f.value&&!p.value?(i(),u("button",{key:0,type:"button",class:"ml-20 text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:Z}," Selesai Perbaharui Lesen ")):d("",!0),w.value&&!p.value?(i(),u("button",{key:1,type:"button",class:"ml-20 text-white bg-green-600 hover:bg-green-700 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center",onClick:z}," Simpan Kemaskini ")):d("",!0)])],34)])])])]}),_:1}))}};export{Ia as default};
