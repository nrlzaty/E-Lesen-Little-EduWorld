import{Q as v,T as _,d as w,c as A,w as f,o as l,a as e,g as N,i as K,u as g,e as r,f as o,t as d,h as S,F as P}from"./app-DoPaJPuH.js";import{_ as B}from"./AppLayout-DgNSrLQi.js";import{S as k}from"./sweetalert2.esm.all-D3pEHXw3.js";const M={class:"flex","aria-label":"Breadcrumb"},C={class:"inline-flex items-center space-x-1 md:space-x-3"},D={class:"inline-flex items-center"},E=["href"],T={class:"flex items-center"},F=["href"],L={class:"py-12"},H={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},U={class:"bg-white overflow-hidden sm:rounded-lg shadow-lg"},j={class:"border rounded-lg p-4 bg-gray-50"},I={class:"relative flex items-center space-x-2"},G={key:0,class:"text-red-600 text-xs mt-1"},R={class:"flex justify-between items-center mb-2"},V={class:"block text-sm font-medium text-gray-900"},Z=["href"],$={class:"relative flex items-center space-x-2"},z=["onChange","id"],J=["onClick"],Q={key:0,class:"text-red-600 text-xs mt-1"},Y={__name:"Create",setup(q){const{props:h}=v(),b=[{name:"MAKLUMAT KANAK-KANAK",file:"/templates/MAKLUMAT KANAK-KANAK.docx",field:"maklumat_kanak"},{name:"NISBAH KANAK-KANAK DENGAN PENGASUH",file:"/templates/NISBAH KANAK-KANAK DENGAN PENGASUH.docx",field:"nisbah_kanak"},{name:"SENARAI MAKLUMAT PEKERJA",file:"/templates/SENARAI MAKLUMAT PEKERJA.docx",field:"senarai_pekerja"}],s=_({applicant_id:h.applicant.id,salinan_ic:null,maklumat_kanak:null,nisbah_kanak:null,senarai_pekerja:null}),i=w({});function m(n,t){s[t]=n.target.files[0]}function u(n){s[n]=null}function y(){if(!s.salinan_ic||!s.maklumat_kanak||!s.nisbah_kanak||!s.senarai_pekerja){k.fire({icon:"warning",title:"Sila muat naik semua dokumen!",text:"Semua dokumen wajib dimuat naik sebelum menghantar."});return}s.post(route("document.store"),{onSuccess:()=>{k.fire({icon:"success",title:"Permohonan Selesai!",text:"Permohonan anda telah lengkap dan akan mula dinilai (Dalam Semakan)."}).then(()=>{window.location.reload()})},onError:n=>{i.value=n}})}return(n,t)=>(l(),A(B,{title:"Tambah Pemohonan Baru"},{header:f(()=>[t[5]||(t[5]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Tambah Pemohonan Baru ",-1)),t[6]||(t[6]=e("br",null,null,-1)),e("nav",M,[e("ol",C,[e("li",D,[e("a",{href:n.route("dashboard"),class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},t[2]||(t[2]=[e("svg",{class:"w-3 h-3 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})],-1),N(" Home ")]),8,E)]),e("li",null,[e("div",T,[t[3]||(t[3]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})],-1)),e("a",{href:n.route("applicant.index"),class:"ml-1 text-sm font-medium text-gray-700 hover:text-gray-900 md:ml-2 dark:text-gray-400 dark:hover:text-white"},"Senarai Pemohon",8,F)])]),t[4]||(t[4]=e("li",{"aria-current":"page"},[e("div",{class:"flex items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7.293 14.707a1 1 0 0 1 0-1.414L10.586 10 7.293 6.707a1 1 0 0 1 1.414-1.414l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0Z"})]),e("span",{class:"ml-1 text-sm font-medium text-gray-500 md:ml-2 dark:text-gray-400"},"Tambah Pemohonan Baru")])],-1))])])]),default:f(()=>{var x;return[e("div",L,[e("div",H,[e("div",U,[t[11]||(t[11]=e("div",{class:"px-6 py-4 bg-gray-100 border-b"},[e("h3",{class:"text-lg font-semibold text-gray-700"},"Muat Naik Dokumen Sokongan"),e("p",{class:"text-sm text-gray-500 mt-1"}," Sila muat turun template dokumen, lengkapkan, dan muat naik dokumen yang telah diisi (format PDF). ")],-1)),e("form",{onSubmit:K(y,["prevent"]),class:"p-6 space-y-6"},[e("div",j,[t[7]||(t[7]=e("label",{class:"block mb-2 text-sm font-medium text-gray-900"},"Salinan IC Pemohon (PDF)",-1)),e("div",I,[e("input",{onChange:t[0]||(t[0]=a=>m(a,"salinan_ic")),type:"file",id:"salinan_ic",accept:"application/pdf",class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50"},null,32),g(s).salinan_ic?(l(),r("button",{key:0,type:"button",onClick:t[1]||(t[1]=a=>u("salinan_ic")),class:"text-red-600 text-xs"},"Padam")):o("",!0)]),t[8]||(t[8]=e("p",{class:"mt-2 text-xs text-gray-500"}," Hanya fail PDF dibenarkan. Saiz fail maksimum: 10MB. ",-1)),(x=i.value)!=null&&x.salinan_ic?(l(),r("div",G,d(i.value.salinan_ic),1)):o("",!0)]),(l(),r(P,null,S(b,a=>{var p;return e("div",{key:a.field,class:"border rounded-lg p-4 bg-gray-50"},[e("div",R,[e("label",V,d(a.name)+" (PDF) ",1),e("a",{href:a.file,download:"",class:"text-xs text-blue-600 hover:underline"},"Contoh Template",8,Z)]),e("div",$,[e("input",{onChange:c=>m(c,a.field),type:"file",id:a.field,accept:"application/pdf",class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50"},null,40,z),g(s)[a.field]?(l(),r("button",{key:0,type:"button",onClick:c=>u(a.field),class:"text-red-600 text-xs"},"Padam",8,J)):o("",!0)]),t[9]||(t[9]=e("p",{class:"mt-2 text-xs text-gray-500"}," Hanya fail PDF dibenarkan. Saiz fail maksimum: 10MB. ",-1)),(p=i.value)!=null&&p[a.field]?(l(),r("div",Q,d(i.value[a.field]),1)):o("",!0)])}),64)),t[10]||(t[10]=e("div",{class:"flex justify-end space-x-4"},[e("button",{type:"submit",class:"text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:outline-none focus:ring-purple-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-purple-600 dark:hover:bg-blue-700 dark:focus:ring-purple-800"}," Muat Naik ")],-1))],32)])])])]}),_:1}))}};export{Y as default};
